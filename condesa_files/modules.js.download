(()=>{"use strict";var t,o,e,i,r={60535:(t,o,e)=>{e.d(o,{D:()=>i,p:()=>r});const i={},r=t=>Object.assign(i,t)},2469:(t,o,e)=>{e.d(o,{OX:()=>n,YG:()=>T,mF:()=>i});const i={SHOPIFY_PURCHASE:"SHOPIFY_PURCHASE",SHOPIFY_BASED_ON_SPEND:"SHOPIFY_BASED_ON_SPEND",KLAVIYO_SIGNUP:"KLAVIYO_SIGNUP",TIKTOK_FOLLOW:"TIKTOK_FOLLOW",TIKTOK_LIKE_POST:"TIKTOK_LIKE_POST",INSTAGRAM_FOLLOW:"INSTAGRAM_FOLLOW",INSTAGRAM_LIKE_POST:"INSTAGRAM_LIKE_POST",INSTAGRAM_COMMENT_POST:"INSTAGRAM_COMMENT_POST",INSTAGRAM_POST_UGC:"INSTAGRAM_POST_UGC",TWITTER_FOLLOW:"TWITTER_FOLLOW",TWITTER_LIKE_POST:"TWITTER_LIKE_POST",TWITTER_COMMENT_POST:"TWITTER_COMMENT_POST",TWITTER_RETWEET:"TWITTER_RETWEET",DISCORD_JOIN_CHANNEL:"DISCORD_JOIN_CHANNEL",FACEBOOK_JOIN_GROUP:"FACEBOOK_JOIN_GROUP",FACEBOOK_LIKE_POST:"FACEBOOK_LIKE_POST",FACEBOOK_COMMENT_POST:"FACEBOOK_COMMENT_POST",NON_INTEGRATION_REFERRAL:"NON_INTEGRATION_REFERRAL",NON_INTEGRATION_CUSTOM:"NON_INTEGRATION_CUSTOM",TIKTOK_VIDEO_CREATION:"TIKTOK_VIDEO_CREATION",AIRDROP_CLAIM:"AIRDROP_CLAIM",REFER_A_FRIEND:"REFER_A_FRIEND",REFER_A_FRIEND_TO_COMPLETE_AN_ACTIVITY:"REFER_A_FRIEND_TO_COMPLETE_AN_ACTIVITY",LINK_CLICKS:"LINK_CLICKS",SHARE_PURCHASE_ON_SOCIAL:"SHARE_PURCHASE_ON_SOCIAL",COLLECT_ZERO_PARTY_DATA:"COLLECT_ZERO_PARTY_DATA",JOIN_REWARDS_PROGRAM:"JOIN_REWARDS_PROGRAM",PICTURE_SUBMISSION:"PICTURE_SUBMISSION",SHARE_WITH_FRIENDS:"SHARE_WITH_FRIENDS",SUBSCRIPTION_SIGN_UP:"SUBSCRIPTION_SIGN_UP",SUBSCRIPTION_CONTINUATION:"SUBSCRIPTION_CONTINUATION",SUBSCRIPTION_CHARGE:"SUBSCRIPTION_CHARGE",VOTING:"VOTING",QUIZ:"QUIZ",DOWNLOAD_PASS:"DOWNLOAD_PASS",POSTSCRIPT_SMS_SIGN_UP:"POSTSCRIPT_SMS_SIGN_UP",BIRTHDAY:"BIRTHDAY",CHALLENGE:"CHALLENGE",NEWSLETTER_SIGN_UP:"NEWSLETTER_SIGN_UP",JUDGE_ME_CREATE_REVIEW:"JUDGE_ME_CREATE_REVIEW",ACTION_LOOX_REVIEWS:"ACTION_LOOX_REVIEWS",ACTION_OKENDO:"ACTION_OKENDO",ACTION_REVIEWS_IO:"ACTION_REVIEWS_IO",ACTION_STAMPED:"ACTION_STAMPED",ACTION_YOTPO:"ACTION_YOTPO",ACTION_FAIRING:"ACTION_FAIRING",ACTION_GORGIAS:"ACTION_GORGIAS",SIGN_IN_REWARDS:"SIGN_IN_REWARDS",SCAN_QR_CODE:"SCAN_QR_CODE"},r=[i.DISCORD_JOIN_CHANNEL,i.FACEBOOK_COMMENT_POST,i.FACEBOOK_JOIN_GROUP,i.FACEBOOK_LIKE_POST,i.INSTAGRAM_COMMENT_POST,i.INSTAGRAM_POST_UGC,i.INSTAGRAM_FOLLOW,i.INSTAGRAM_LIKE_POST,i.TWITTER_COMMENT_POST,i.TWITTER_FOLLOW,i.TWITTER_LIKE_POST,i.TWITTER_RETWEET,i.TIKTOK_FOLLOW,i.TIKTOK_LIKE_POST,i.TIKTOK_VIDEO_CREATION,i.SHARE_PURCHASE_ON_SOCIAL],n=[i.COLLECT_ZERO_PARTY_DATA,i.VOTING,i.JOIN_REWARDS_PROGRAM,i.SUBSCRIPTION_SIGN_UP,i.AIRDROP_CLAIM,i.DOWNLOAD_PASS,i.POSTSCRIPT_SMS_SIGN_UP,i.QUIZ,i.NEWSLETTER_SIGN_UP],a=[i.SHOPIFY_PURCHASE,i.SHOPIFY_BASED_ON_SPEND,i.SUBSCRIPTION_SIGN_UP,i.SUBSCRIPTION_CONTINUATION,i.SUBSCRIPTION_CHARGE],s=[i.JOIN_REWARDS_PROGRAM],c=[i.REFER_A_FRIEND,i.NON_INTEGRATION_REFERRAL,i.SHARE_WITH_FRIENDS],h=[i.COLLECT_ZERO_PARTY_DATA],d=[i.PICTURE_SUBMISSION],l=(i.SUBSCRIPTION_SIGN_UP,i.SUBSCRIPTION_CONTINUATION,i.SUBSCRIPTION_CHARGE,i.TIKTOK_FOLLOW,i.TIKTOK_LIKE_POST,i.TIKTOK_VIDEO_CREATION,i.INSTAGRAM_FOLLOW,i.INSTAGRAM_LIKE_POST,i.INSTAGRAM_COMMENT_POST,i.INSTAGRAM_POST_UGC,i.TWITTER_FOLLOW,i.TWITTER_LIKE_POST,i.TWITTER_COMMENT_POST,i.DISCORD_JOIN_CHANNEL,i.FACEBOOK_JOIN_GROUP,i.FACEBOOK_LIKE_POST,i.FACEBOOK_COMMENT_POST,i.COLLECT_ZERO_PARTY_DATA,i.VOTING,i.QUIZ,"Purchase"),p="Social",f="Referral",_="Join",m="Zero Party Data",w="Picture/Video",u="Other";i.CHALLENGE,i.KLAVIYO_SIGNUP,i.LINK_CLICKS,i.NON_INTEGRATION_CUSTOM,i.VOTING,i.QUIZ,i.DOWNLOAD_PASS,i.POSTSCRIPT_SMS_SIGN_UP,i.BIRTHDAY,i.NEWSLETTER_SIGN_UP,i.JUDGE_ME_CREATE_REVIEW;var T;!function(t){t.ASSET="asset",t.GIFT="gift",t.MEMBERSHIP_CARD="membership_card",t.DISCOUNT="discount",t.TOKEN="token",t.GATING="gating",t.MULTIPLIER_VOTES="multiplier-votes",t.FREE_SHIPPING="free-shipping",t.CUSTOM="custom",t.ACCELERATOR="accelerator"}(T||(T={}))},49011:(t,o,e)=>{e.d(o,{Gn:()=>n,OE:()=>a,b5:()=>l,fc:()=>c,lz:()=>d,mc:()=>s});var i=e(2469),r=e(6692);const n=(t,o={},e)=>{const i=e?.rewardDisplayPreference,n=`${Number(t).toLocaleString()} ${o?.name}`;if("store_credit"===i)return n;const a=`${e.currency.symbol}${(Number(t)*r.Ii).toLocaleString()}`;return"usd"===i?a:`${n} (${a})`},a=(t,o)=>{if(!t)return"";const{amount_to_reward:e,token_to_reward:r,amount_to_reward_percentage:a,reward_type:s,shopify_product_variant:c}=t;if(s===i.YG.GIFT)return`${Number(e)||1} ${c?.label}`;if(!r||s===i.YG.DISCOUNT)return e?`${o.currency.symbol}${Number(e).toLocaleString()}`:`${Number(a)}% Off`;if(!a&&s===i.YG.ASSET){const t=Number(e||0);return n(t,r,o)}return s===i.YG.MEMBERSHIP_CARD?r.name||"":`${a}% back in ${r.name}`},s=(t,o)=>{const e=t?.activity_completions?.filter((t=>"pending"===t.verification_status)).length||0,i=(t?.activity_completions?.filter((t=>"approved"===t.verification_status)).length||0)+e;return{completed:i>=o,completedTimes:i>=o?o:i,isPendingToApprove:e>0}},c=(t,o)=>{const e=t.reward_type;if("asset"===e){const e=Number(t.amount_to_reward);return e?`+${n(e,t.token||{},o)}`:""}return"accelerator"===e?`${t.accelerator_rate}x for each activity`:t.shopify_product_variant?.label?`+1 ${t.shopify_product_variant.label}`:e},h="toki_challenges_completed",d=t=>{const o=sessionStorage.getItem(h);return o?JSON.parse(o):(sessionStorage.setItem(h,JSON.stringify(t)),t)},l=()=>{sessionStorage.removeItem(h)}},6692:(t,o,e)=>{e.d(o,{Ii:()=>i});const i=.01}},n={};function a(t){var o=n[t];if(void 0!==o)return o.exports;var e=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(e.exports,e,e.exports,a),e.loaded=!0,e.exports}a.m=r,a.amdO={},a.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return a.d(o,{a:o}),o},o=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var r=Object.create(null);a.r(r);var n={};t=t||[null,o({}),o([]),o(o)];for(var s=2&i&&e;"object"==typeof s&&!~t.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,a.d(r,n),r},a.d=(t,o)=>{for(var e in o)a.o(o,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((o,e)=>(a.f[e](t,o),o)),[])),a.u=t=>t+"."+{4:"71f1b88ed7fdebe89b6c",33:"e89c6169dd91ff9aa27d",47:"58114c6a0013eff21c34",51:"f946fe116e93bd861a0b",75:"180118ebcadf0dc8f2df",129:"5c9b2be0c288fd77d2b6",133:"ab47c20a2cafd76e4de2",140:"77ed994d479ec74c352e",144:"27e6ed690fd02f3c4a64",175:"c33df038e99077b3a423",184:"e767076662ba4e7fd128",222:"0360cade71b0d81f6435",329:"b8eae2b845bf58b00e53",342:"b12f82085191181ec93e",368:"36faf44e816d4e3f47ab",389:"e8e347ae8c17876fb755",399:"f46e3933ec1ad7e82b20",444:"a8cdd21aeb54315fcd3d",449:"3b5c3f15536ad555a02c",498:"5e4e8630736e1a9e8e69",499:"739a846d73e7498e90c5",520:"0c05bb463892428b0aeb",523:"1c3794c69584f77b8175",530:"78ce427d94c39e3b4327",533:"ef2e473a4d3bb7f3b2b4",535:"66afcbe1eac7472f3cbb",596:"d7f0875d794adf6ca8a7",619:"1849609eb1325e5f4f82",642:"71da84c97d116f01a19e",687:"9ce0100768c612af0c52",752:"931356baa1318502dca8",758:"eec05e28aef8a041e1dc",801:"f5f4c588a38b2f20b1b3",825:"a98f70d45a34b748d4ad",836:"c17fa3092b9da556c918",859:"bc126dc865dbefd74568",879:"3f1d707a5d443213c47b",898:"e8d18729570685685536",911:"dd1391bfd9c49cdbd70d",914:"b2040305865780ef8923",923:"831d6e2d5a4dc9eedf92",994:"a0b9f21a67ce029d3762"}[t]+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),e={},i="snippets-shopify:",a.l=(t,o,r,n)=>{if(e[t])e[t].push(o);else{var s,c;if(void 0!==r)for(var h=document.getElementsByTagName("script"),d=0;d<h.length;d++){var l=h[d];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==i+r){s=l;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+r),s.src=t),e[t]=[o];var p=(o,i)=>{s.onerror=s.onload=null,clearTimeout(f);var r=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((t=>t(i))),o)return o(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var o=a.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var e=o.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={54:0};a.f.j=(o,e)=>{var i=a.o(t,o)?t[o]:void 0;if(0!==i)if(i)e.push(i[2]);else{var r=new Promise(((e,r)=>i=t[o]=[e,r]));e.push(i[2]=r);var n=a.p+a.u(o),s=new Error;a.l(n,(e=>{if(a.o(t,o)&&(0!==(i=t[o])&&(t[o]=void 0),i)){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;s.message="Loading chunk "+o+" failed.\n("+r+": "+n+")",s.name="ChunkLoadError",s.type=r,s.request=n,i[1](s)}}),"chunk-"+o,o)}};var o=(o,e)=>{var i,r,[n,s,c]=e,h=0;if(n.some((o=>0!==t[o]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)c(a)}for(o&&o(e);h<n.length;h++)r=n[h],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0},e=self.webpackChunksnippets_shopify=self.webpackChunksnippets_shopify||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))})(),a.nc=void 0,(()=>{var t=a(60535);const o=async t=>{const o=new URLSearchParams(window.location.search),e=[o.get("tkr"),o.get("toki-referral"),o.get("toki-unq-referral")].find(Boolean);if(e)try{const o=window.tokiWallet?.getToken(),i=await fetch(`${t.apiUrl}/integrations/shopify/referAFriend/${e}`,{method:"GET",headers:{"Content-Type":"application/json","x-shopify-shop-domain":t.shopDomain,...o&&{Authorization:`Bearer ${o}`}}}),{discountCode:r}=await i.json();sessionStorage.setItem("toki_discount_code",r),t.storefrontAccessToken?async function(t){document.dispatchEvent(new CustomEvent("toki:referral-discount-code:fetched",{detail:{discountCode:t}}))}(r):async function(t){document.cookie=`discount_code=${t}; expires=Session; path=/; sameSite=Lax`,fetch(`/discount/${t}`).then((()=>fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{}})}).then((async t=>{console.log("/cart/update.js response",t)})).catch((function(t){console.log("/cart/update.js error",t)})))).catch((function(o){console.error(`/discount/${t} error:`,o)}))}(r)}catch(t){console.log("applyReferAFriendCode error",t)}},e=t=>{if(!t||"object"!=typeof t)return null;const o="companyId"in t?t.companyId:null,e="formId"in t?t.formId:null,i="formVersionId"in t?t.formVersionId:null,r="type"in t?t.type:null,n="metaData"in t?t.metaData:null;return r&&n&&e?{companyId:o,formId:e,formVersionId:i,type:r,metaData:n}:null},i=t=>{try{console.log("klaviyoSignUp init");const o=async o=>{try{if(console.log("klaviyoFormsListener",o),!("detail"in o))return;const i=e(o.detail);if(!i)return;if("submit"===i.type){const o=await fetch(`${t.apiUrl}/storefront/shop/klaviyo/form-submitted`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-shopify-shop-domain":t.shopDomain},body:JSON.stringify({detail:i})}),{result:e}=await o.json();return void console.log({result:e})}}catch(o){console.log("klaviyoFormsListener error",o)}};window.addEventListener("klaviyoForms",o)}catch(t){console.log("klaviyoSignUp error",t)}};const r=(t,o,e)=>{const i=o.filter((t=>e.includes(t)));return t.filter((t=>!i.includes(t.challenge_id)))};var n=a(49011);const s="WALLET_TOKEN",c="toki/preview-mode";const h=new class{constructor(){}userAuthenticated(){window.dispatchEvent(new Event("tokiWalletUserAuthenticated"))}activityCompleted(){window.dispatchEvent(new CustomEvent("tokiWalletActivityCompleted"))}claimed(){window.dispatchEvent(new CustomEvent("tokiWalletClaimed"))}balanceChanged(){window.dispatchEvent(new Event("tokiWalletBalanceChanged"))}},d="toki-mlt",l=t=>({post:async(o,e,i)=>{const r=new URL(t.apiUrl+o),n=await fetch(r.toString(),{method:"POST",headers:{"Content-Type":"application/json","x-shopify-shop-domain":t.shopDomain,...i?.headers},body:JSON.stringify(e)});return await n.json()}}),p=async(t,o)=>l(t).post("/auth/wallet-user/shopify",{customerId:o.customerId},{headers:{"X-Shopify-Customer-Id-Hmac":o.customerHmac}}),f=async t=>{const o=await(async t=>{const o=l(t),e=new URL(window.location.href);try{const e=/\/tools\/recurring\/portal\/([a-zA-Z0-9]+)/,i=window.location.pathname.match(e);if(i?.length&&i[1]){const{token:e}=await o.post("/auth/wallet-user/recharge",{hash:i[1],shop_domain:t.shopDomain});return e}}catch(t){console.log("recharge error",t)}try{const o=document.getElementById("toki-shopify-integration-embed-wallet-v2-root")||document.getElementById("toki-shopify-integration-expanded-wallet-root");if(o){const i=o.dataset;if(t.globalSettings.isShopifyAutoLogin&&i?.customerHmac&&i.customerId){const{token:o}=await p(t,{customerId:i.customerId,customerHmac:i.customerHmac});return o}if(t.isMultiPassAvailable&&!e.searchParams.get("toki-impersonate"))return localStorage.removeItem(s),null}}catch(t){console.log("shopify error",t)}try{const t=e.searchParams.get(d);if(t){const i=await o.post("/auth/wallet-user/passwordless/magic-link/verify",{token:t});e.searchParams.delete(d);const r=e.toString();return window.history.replaceState({},"",r),i.token}}catch(t){console.log("magic link error",t)}return await(window.tokiWallet?.getToken())??null})(t);return o&&window.tokiWallet?.authenticate(o),o},_=async()=>await localStorage.getItem(s);class m{constructor(t,o){this.config=t,this.options=o,this.subscribers={},this.setOptions=t=>{this.options={...this.options,...t}},this.on=(t,o)=>{var e;return(e=this.subscribers)[t]??(e[t]=[]),this.subscribers[t].push(o),()=>this.off(t,o)},this.off=(t,o)=>{const e=this.subscribers[t];if(!e)return;const i=e.indexOf(o);-1!==i&&e.splice(i,1)},this.notifySubscribers=(t,o)=>{this.subscribers[t]&&this.subscribers[t].forEach((t=>t(o)))},this.request=({method:t,params:o})=>{this.notifySubscribers(t,o);const e=this[t];if(!e)throw new Error("Toki Wallet: Unknown Method");if("function"!=typeof e)throw new Error("Toki Wallet: Method is not a function");return e(o)},this.toki_global_redemption_rule=async({shopDomain:t})=>{const o=await fetch(`${this.config.apiUrl}/redemptions/getGlobalRule?responseType=snakeCase`,{headers:{"Content-Type":"application/json","x-shopify-shop-domain":t}}),e=await o.json();if(e)return e},this.toki_tiers=async t=>{const{shopDomain:o,tierIds:e}=t,i=await _(),r=new URLSearchParams({shopDomain:o});e?.length&&e.forEach((t=>r.append("tierIds",t)));try{const t=await fetch(`${this.config.apiUrl}/merchant/brand/tiers?${r.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json","x-shopify-shop-domain":o}}),{tiers:e=[]}=await t.json();return{tiers:e}}catch(t){return console.error(t),{tiers:[]}}},this.toki_activities=async t=>{const o=await _(),{includeActivityTypes:e,excludeActivityTypes:i,activityIds:r,shopDomain:n}=t,a=new URLSearchParams;e?.length&&e.forEach((t=>a.append("includeActivityTypes",t))),r?.length&&r.forEach((t=>a.append("activityIds",t))),i?.length&&i.forEach((t=>a.append("excludeActivityTypes",t)));try{const t=await fetch(`${this.config.apiUrl}/merchant/brand/activities?${a.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-shopify-shop-domain":n,Authorization:`Bearer ${o}`,Accept:"application/json"}});if(!t.ok)throw new Error("Toki Wallet: Failed getting activities");return(await t.json()).activities}catch(t){return console.error(t),[]}},this.toki_challenges=async t=>{const o=await _(),{userId:e,challengeIds:i,shopDomain:a}=t,s=new URLSearchParams;i?.length&&i.forEach((t=>s.append("challengeIds",t)));const c=await fetch(`${this.config.apiUrl}/merchant/brand/challenges?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-shopify-shop-domain":a,Authorization:`Bearer ${o}`,Accept:"application/json"}}),h=(await c.json()).challenges;let d=[],l=[];if(e){const t=await fetch(`${this.config.apiUrl}/wallet/user/challenges`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":a,Accept:"application/json"}}),e=await t.json();d=e.completedChallenges,l=e.pendingChallenges}i&&i.length>0&&h.sort(((t,o)=>i.indexOf(t.challenge_id)-i.indexOf(o.challenge_id)));const p=(0,n.lz)(d);return{challenges:r(h,p,d)||[],completedChallenges:d||[],pendingChallenges:l||[]}},this.toki_open_popup=async t=>{try{if(this.options?.isExpanded){document.getElementById("toki-shopify-integration-expanded-wallet-root")?.scrollIntoView({behavior:"smooth",block:"center"})}}catch(t){console.error(t)}},this.toki_authenticate=async t=>(await this.setToken(t),h.userAuthenticated(),t),this.toki_check_user_authenticated=async()=>{const t=await _();return Boolean(t)},this.toki_get_user_data=async({shopDomain:t})=>{const o=await _();if(!o)throw new Error("Unauthorized");return(await fetch(`${this.config.apiUrl}/wallet/user`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t}})).json()},this.toki_get_ledger_code=async({shop:t})=>{const o=await _(),e=sessionStorage.getItem(c);return(await fetch(`${this.config.apiUrl}/wallet/user/ledger-code`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t,...e&&{"x-preview-mode-enabled":"true"}}})).json()},this.toki_check_gated_page=async t=>{const o=await _();if(!t.shopify_domain)throw new Error("Toki Wallet: No shopify domain passed to method");const e=await fetch(`${this.config.apiUrl}/integrations/shopify/pages/gating?shop_domain=${t.shopify_domain}&page=${t.page}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopify_domain}});if(!e.ok)throw new Error("Toki Wallet: Failed to check page");return e.json()},this.toki_get_users_next_tier=async t=>{const o=await _();if(!o)throw new Error("Unauthorized");if(!t.shopify_domain)throw new Error("Toki Wallet: No shopify domain passed to method");const e=await fetch(`${this.config.apiUrl}/redemptions/getUserTiers/next?shopDomain=${t.shopify_domain}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopify_domain}});if(!e.ok)throw new Error("Toki Wallet: Failed to retrieve user tiers");return e.json()},this.toki_get_user_tiers=async t=>{const o=await _();if(!o)throw new Error("Unauthorized");if(!t.shopify_domain)throw new Error("Toki Wallet: No shopify domain passed to method");const e=await fetch(`${this.config.apiUrl}/redemptions/getUserTiers?${new URLSearchParams({shop_domain:t.shopify_domain}).toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopify_domain}});if(!e.ok)throw new Error("Toki Wallet: Failed to retrieve user tiers");return e.json()},this.toki_get_user_balance_by_token=async t=>{const o=await _();if(!o)throw new Error("Unauthorized");if(!t.tokenId)throw new Error("Toki Wallet: No tokenId passed to method");const e=await fetch(`${this.config.apiUrl}/wallet/user/balance?${new URLSearchParams({tokenId:t.tokenId}).toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-shopify-shop-domain":t.shopDomain,Authorization:`Bearer ${o}`}});if(!e.ok)throw new Error("Toki Wallet: Failed to get user balance");return e.json()},this.toki_get_governance=async t=>{const o=await _();if(!t.merchantId)throw new Error("Toki Wallet: No merchantId passed to method");const e=await fetch(`${this.config.apiUrl}/votings?${new URLSearchParams({merchantId:t.merchantId,votingActivityIds:t.votingActivityIds?.join(",")||""}).toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-shopify-shop-domain":t.shopDomain,Accept:"application/json",Authorization:`Bearer ${o}`}});if(!e.ok)throw new Error("Toki Wallet: Failed to get governance");return e.json()},this.toki_vote_for_governance=async t=>{const o=await _(),{governanceId:e}=t;if(!e)throw new Error("Toki Wallet: No vote governance id passed to method");const i=await fetch(`${this.config.apiUrl}/governance/vote?shop_domain=${t.shopDomain}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopDomain},body:JSON.stringify(t)}),r=await i.json();if(!i.ok)throw new Error(r?.error||"Something went wrong");return r},this.toki_vote_for_governance_anonymously=async t=>{const{governanceId:o}=t;if(!o)throw new Error("Toki Wallet: No vote governance id passed to method");const e=await fetch(`${this.config.apiUrl}/storefront/shop/governance/vote/anonymously`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-shopify-shop-domain":t.shopDomain},body:JSON.stringify(t)}),i=await e.json();if(!e.ok)throw new Error(i?.error||"Something went wrong");return i},this.toki_get_voting_answers=async t=>{const o=await _(),e=await fetch(`${this.config.apiUrl}/zpd/answers`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopDomain}});if(!e.ok)throw new Error("Toki Wallet: Failed to get user voting results");return(await e.json()).votingResults},this.toki_generate_discount=async t=>{const o=await _();if(!t.tokenAmount&&!t.variantId)throw new Error("Toki Wallet: invalid parameters");if(!t.shop)throw new Error("Toki Wallet: No shop passed to shop");const{shop:e,tokenAmount:i,variantId:r}=t,n={};r?n.variantId=r:n.token_amount=String(i);const a=await fetch(`${this.config.apiUrl}/integrations/shopify/redemption/rules`,{method:"POST",headers:{"Content-Type":"application/json","x-shopify-shop-domain":e,Authorization:`Bearer ${o}`},body:JSON.stringify(n)});if(!a.ok)throw new Error("Toki Wallet: Failed to get discount");const s=await a.json();return h.balanceChanged(),s.discount_code},this.toki_redemptions_shopify=async t=>{const o=await _();if(!t.tier_reward_id)throw new Error("Toki Wallet: No tier reward id passed to method");if(!t.shopify_domain)throw new Error("Toki Wallet: No shopify domain passed to method");const e=await fetch(`${this.config.apiUrl}/integrations/shopify/redemption/tiers?${new URLSearchParams({id:t.tier_reward_id,shopify_domain:t.shopify_domain}).toString()}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t.shopify_domain}});if(!e.ok)throw new Error("Toki Wallet: Failed to redeem tiers");return e.json()},this.toki_gift_get_discount=async t=>{const o=await _();if(!t.challengeId)throw new Error("Toki Wallet: invalid parameters");if(!t.shopDomain)throw new Error("Toki Wallet: No shop passed to shop");const{shopDomain:e,challengeId:i}=t,r=await fetch(`${this.config.apiUrl}/integrations/shopify/gift/redeem?shopDomain=${e}&challengeId=${i}`,{method:"GET",headers:{"x-shopify-shop-domain":e,Authorization:`Bearer ${o}`}}),n=await r.json();if(!r.ok)throw new Error(n.error);return n},this.toki_gift_add_to_cart=async t=>{const o=await _();if(!t.challengeId)throw new Error("Toki Wallet: invalid parameters");if(!t.shopDomain)throw new Error("Toki Wallet: No shop passed to shop");const{shopDomain:e,challengeId:i}=t,r=await fetch(`${this.config.apiUrl}/integrations/shopify/gift/add-to-cart`,{method:"POST",headers:{"Content-Type":"application/json","x-shopify-shop-domain":e,Authorization:`Bearer ${o}`},body:JSON.stringify({shopDomain:e,challengeId:i})}),n=await r.json();if(!r.ok)throw new Error(n.error);return n},this.toki_product_redemption=async t=>{const o=await _();if(!t.shopDomain)throw new Error("Toki Wallet: No shopDomain passed to method");const{shopDomain:e}=t,i=new URL(`${this.config.apiUrl}/storefront/shop/product-redemption`);i.searchParams.append("basedOn",t.basedOn),t.variantIds&&i.searchParams.append("variantIds",t.variantIds.join(","));const r=await fetch(i.toString(),{method:"GET",headers:{"x-shopify-shop-domain":e,Authorization:`Bearer ${o}`}}),n=await r.json();if(!r.ok)throw new Error(n.error);return n},this.toki_product_redemption_redeem=async t=>{const o=await _();if(!t.shopDomain)throw new Error("Toki Wallet: No shopDomain passed to method");const{shopDomain:e}=t,i=await fetch(`${this.config.apiUrl}/storefront/shop/product-redemption/redeem`,{method:"POST",headers:{"Content-Type":"application/json","x-shopify-shop-domain":e,Authorization:`Bearer ${o}`},body:JSON.stringify({variantId:t.variantId,...t.rewardId&&{rewardId:t.rewardId}})}),r=await i.json();if(!i.ok)throw new Error(r.error);return r},this.toki_get_merchant_brand=async t=>{const o=await _();if(!t.shopDomain)throw new Error("Toki Wallet: No shopDomain passed to method");const{shopDomain:e}=t,i=await fetch(`${this.config.apiUrl}/storefront/shop`,{method:"GET",headers:{"x-shopify-shop-domain":e,Authorization:`Bearer ${o}`}}),r=await i.json();if(!i.ok)throw new Error(r.error);return r},this.toki_get_pass_download_link=async t=>{const o=await _();if(!o)throw new Error("Unauthorized");if(!t.shopDomain)throw new Error("Toki Wallet: No shopDomain passed to method");const e=await fetch(`${this.config.apiUrl}/storefront/wallet/apple/pass/download-link`,{method:"GET",headers:{"x-shopify-shop-domain":t.shopDomain,Authorization:`Bearer ${o}`}}),i=await e.json();if(!e.ok)throw new Error(i.error);return i},this.toki_check_exclusive_product_eligibility=async({productId:t,shopDomain:o})=>{const e=await _(),i=await fetch(`${this.config.apiUrl}/storefront/wallet/exclusive-products/is-eligible?productId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":o}}),r=await i.json();if(!i.ok)throw new Error(r.error);return r},this.toki_check_exclusive_product=async({variantId:t,shopDomain:o})=>{const e=await _(),i=await fetch(`${this.config.apiUrl}/storefront/wallet/exclusive-products?variantId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":o}}),r=await i.json();if(!i.ok)throw new Error(r.error);return r},this.toki_buy_exclusive_product=async({variantId:t,shopDomain:o,customAttributes:e})=>{const i=await _(),r=await fetch(`${this.config.apiUrl}/storefront/wallet/exclusive-products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":o},body:JSON.stringify({variantId:t,customAttributes:e})}),n=await r.json();if(!r.ok)throw new Error(n.error);setTimeout((()=>{window.location.href=n.redirect}))},this.toki_wishlist_add_collection=async({shopDomain:t,...o})=>{const e=await _();if(!e)throw new Error("Unauthorized");const i=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/collection`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t},body:JSON.stringify(o)});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.toki_wishlist_add_variant_to_collection=async({shopDomain:t,collectionId:o,...e})=>{const i=await _();if(!i)throw new Error("Unauthorized");const r=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/collection/${o}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":t},body:JSON.stringify(e)});if(!r.ok)throw new Error(r.statusText);const n=await r.json();if(n.error)throw new Error(n.error);return n},this.toki_wishlist_remove_collection=async({shopDomain:t,collectionId:o})=>{const e=await _();if(!e)throw new Error("Unauthorized");const i=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/collections/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t}});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.toki_wishlist_remove_variant_from_collection=async({shopDomain:t,itemId:o})=>{const e=await _();if(!e)throw new Error("Unauthorized");const i=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/items/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t}});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.toki_wishlist_is_item_selected=async({shopDomain:t,productId:o,variantId:e})=>{const i=await _();if(!i)throw new Error("Unauthorized");const r=new URL(`${this.config.apiUrl}/storefront/shop/wishlist/item`);r.searchParams.append("productId",o),e&&r.searchParams.append("variantId",String(e));const n=await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":t}});if(!n.ok)throw new Error(n.statusText);const a=await n.json();if(a.error)throw new Error(a.error);return a},this.toki_wishlist_item_count=async({shopDomain:t,productId:o,variantId:e})=>{const i=await _(),r=new URL(`${this.config.apiUrl}/storefront/shop/wishlist/item/count`);r.searchParams.append("productId",o),e&&r.searchParams.append("variantId",String(e));const n=await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":t}});if(!n.ok)throw new Error(n.statusText);const a=await n.json();if(a.error)throw new Error(a.error);return a},this.toki_wishlist_visit_item=async({shopDomain:t,productId:o,variantId:e})=>{const i=await _(),r=new URL(`${this.config.apiUrl}/storefront/shop/wishlist/item/visit`);r.searchParams.append("productId",o),e&&r.searchParams.append("variantId",e);const n=await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":t}});if(!n.ok)throw new Error(n.statusText);const a=await n.json();if(a.error)throw new Error(a.error);return a},this.toki_wishlist_collections=async({shopDomain:t})=>{const o=await _();if(!o)throw new Error("Unauthorized");const e=new URL(`${this.config.apiUrl}/storefront/shop/wishlist/collections`),i=await fetch(e.toString(),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":t}});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.toki_wishlist_get_guest_collections=async({shopDomain:t,collectionIds:o})=>{const e=await _(),i=new URL(`${this.config.apiUrl}/storefront/shop/wishlist/collections/guest`);i.searchParams.append("collectionIds",o);const r=await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t}});if(!r.ok)throw new Error(r.statusText);const n=await r.json();if(n.error)throw new Error(n.error);return n},this.toki_wishlist_copy_collection=async({shopDomain:t,collectionId:o})=>{const e=await _();if(!e)throw new Error("Unauthorized");const i=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/collections/${o}/copy`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t}});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.toki_wishlist_rename_collection=async({body:t,shopDomain:o,collectionId:e})=>{const i=await _();if(!i)throw new Error("Unauthorized");const r=await fetch(`${this.config.apiUrl}/storefront/shop/wishlist/collections/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-shopify-shop-domain":o},body:JSON.stringify(t)});if(!r.ok)throw new Error(r.statusText);const n=await r.json();if(n.error)throw new Error(n.error);return n},this.toki_recently_products_add=async({product:t,shopDomain:o})=>{const e=await _();if(!e)return;const i=await fetch(`${this.config.apiUrl}/storefront/shop/recently-products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":o},body:JSON.stringify({product:t})});if(!i.ok)throw new Error(i.statusText);const r=await i.json();if(r.error)throw new Error(r.error);return r},this.claim_airdrop=async({shopDomain:t,airdropId:o})=>{try{const e=await _();if(!e)throw new Error("Unauthorized");const i=await fetch(`${this.config.apiUrl}/airdrops/claim?airdrop_id=${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"x-shopify-shop-domain":t}});return await i.json()}catch(t){return{error:t.message}}},this.getToken=async()=>await _(),this.setToken=async t=>(localStorage.setItem(s,t),t),this.removeToken=async()=>(localStorage.removeItem(s),!0),this.initAuthorize=async()=>{await f(this.config)},this.authenticate=async t=>{this.request({method:"toki_authenticate",params:t})},this.sendReferralInvite=async t=>{const o=await _();if(!o)throw new Error("Unauthorized");const e=await fetch(`${this.config.apiUrl}/storefront/wallet/activities/referral/send-invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-shopify-shop-domain":this.config.shopDomain},body:JSON.stringify(t)});return await e.json()}}}function w(t,o){const e=new m(t,o);if(window.tokiWallet=e,window.dispatchEvent(new CustomEvent("tokiWalletRpcInjected")),console.log("Toki Wallet: Injected"),t.globalSettings?.isShopifyAutoLogin){const o=(t=>async()=>{await new Promise((t=>{setTimeout(t,3e3)}));const o=await fetch(location.href).then((t=>t.text())),e=(new DOMParser).parseFromString(o,"text/html").getElementById("toki-shopify-integration-embed-wallet-v2-root");if(e?.dataset.customerHmac&&e?.dataset.customerId){const{token:o}=await p(t,{customerId:e.dataset.customerId,customerHmac:e.dataset.customerHmac});window.tokiWallet?.authenticate(o)}})(t);document.addEventListener("status:user:login",o)}return e}const u={"toki-shopify-integration-block-activities-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(642)]).then(a.bind(a,69642)),"toki-shopify-integration-block-airdrops-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(911)]).then(a.bind(a,22911)),"toki-shopify-integration-block-create-account-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(368)]).then(a.bind(a,14368)),"toki-shopify-integration-block-discounts-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(47)]).then(a.bind(a,11047)),"toki-shopify-integration-your-status-block-root":()=>Promise.all([a.e(520),a.e(342),a.e(133),a.e(51),a.e(914),a.e(144)]).then(a.bind(a,69144)),"toki-shopify-integration-block-gating-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(140)]).then(a.bind(a,16140)),"toki-shopify-integration-block-linear-tiers-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(184)]).then(a.bind(a,1184)),"toki-shopify-integration-block-redemption-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(498)]).then(a.bind(a,92498)),"toki-shopify-integration-block-refer-a-friend-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(33)]).then(a.bind(a,69033)),"toki-shopify-integration-block-tiers-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(75)]).then(a.bind(a,65075)),"toki-shopify-integration-block-token-spending-global-root":()=>Promise.all([a.e(520),a.e(342),a.e(133),a.e(51),a.e(914),a.e(399)]).then(a.bind(a,13399)),"toki-shopify-integration-block-voting-activities-root":()=>Promise.all([a.e(520),a.e(342),a.e(133),a.e(51),a.e(914),a.e(898)]).then(a.bind(a,92898)),"toki-shopify-integration-block-zero-party-data-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(530)]).then(a.bind(a,40530)),"toki-shopify-integration-landing-page-sections-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(449)]).then(a.bind(a,74449)),"toki-shopify-integration-block-challenges-module-root":()=>Promise.all([a.e(520),a.e(342),a.e(133),a.e(51),a.e(914),a.e(222)]).then(a.bind(a,26222)),"toki-shopify-integration-block-tiers-module-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(523)]).then(a.bind(a,523)),"toki-shopify-integration-product-redemption-block-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(619)]).then(a.bind(a,67619)),"toki-shopify-integration-exclusive-products-block-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(859)]).then(a.bind(a,9859)),"toki-shopify-integration-block-form-module-root":()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(329)]).then(a.bind(a,58329)),"toki-shopify-integration-block-wishlist-list-root":()=>Promise.all([a.e(520),a.e(342),a.e(825),a.e(51),a.e(596)]).then(a.bind(a,26596)),"toki-shopify-integration-block-wishlist-button-root":()=>Promise.all([a.e(520),a.e(342),a.e(825),a.e(51),a.e(4)]).then(a.bind(a,24004)),"toki-shopify-integration-block-paid-membership-button-root":()=>Promise.all([a.e(520),a.e(342),a.e(825),a.e(51),a.e(175)]).then(a.bind(a,16175))};async function T(){const e=document.getElementById("toki-modules");if(!e)throw new Error("Toki init error: modules script not found");if(!e.dataset.config)throw new Error("Toki init error: no config provided");const r=JSON.parse(e.dataset.config),n=r.shopDomain||window?.Shopify?.shop||"";(0,t.p)({...r,shopDomain:n});const a=w(r);await a.initAuthorize(),o(r).catch((t=>console.error("Toki init error: ",t))),i(r),E({rpc:a}).catch((t=>console.error("Toki wallet error: ",t))),async function({shopDomain:t}){const o=window.tokiWallet,e=await o.request({method:"toki_check_user_authenticated"});document.querySelectorAll("toki-exclusive-product-gate[data-enabled]").forEach((async i=>{if(!(i instanceof HTMLElement))return;const r=e?await o.request({method:"toki_check_exclusive_product_eligibility",params:{productId:i.dataset.productId,shopDomain:t}}).then((t=>t.type)):"unauthenticated";i.querySelectorAll("toki-exclusive-product-gate-state").forEach((t=>{t instanceof HTMLElement&&(t.style.display=t.dataset.type==r?"initial":"none")}))}))}({shopDomain:n}).catch((t=>console.error("Toki exclusive product gates error: ",t))),I().catch((t=>console.error("Toki optional modules error: ",t)));const s=Object.entries(u).filter((([t])=>{return o=t,!(!document.getElementById(o)&&!document.getElementsByClassName(o).length);var o})).map((async([,t])=>(await t()).default()));await Promise.allSettled(s.map((t=>t)))}const E=async({rpc:t})=>{const o=await Promise.all([a.e(520),a.e(801)]).then(a.bind(a,33801));await Promise.all([o.default({rpc:t,rootId:"toki-shopify-integration-expanded-wallet-root",settingsId:"",isExpanded:!0}),o.default({rpc:t,rootId:"toki-shopify-integration-embed-wallet-v2-root",settingsId:"toki-shopify-integration-embed-wallet-v2-settings"})])},I=async()=>{const t=[()=>Promise.all([a.e(520),a.e(342),a.e(51),a.e(752)]).then(a.bind(a,91752)),()=>a.e(758).then(a.bind(a,58758))];await Promise.allSettled(t.map((async t=>(await t()).default())))};T().catch((t=>console.error("Toki init error: ",t))),window.TokiInit=T})()})();